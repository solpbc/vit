<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>vit</title>
  <style>
    :root {
      color-scheme: light;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      color: #111827;
      background: #ffffff;
      line-height: 1.6;
    }

    .container {
      max-width: 720px;
      margin: 0 auto;
      padding: 24px 20px 32px;
    }

    header h1 {
      margin: 0;
      font-size: 2rem;
      line-height: 1.2;
      cursor: default;
    }

    .egg {
      opacity: 0;
      transition: opacity 200ms ease;
      color: #9ca3af;
    }

    header h1:hover .egg {
      opacity: 1;
    }

    header h1.tapped .egg {
      opacity: 1;
    }

    .tagline {
      margin: 6px 0 0;
      color: #4b5563;
      font-size: 1rem;
    }

    .header-bar {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 16px;
    }

    header {
      border-bottom: 1px solid #e5e7eb;
      padding-bottom: 16px;
      margin-bottom: 24px;
    }

    nav {
      display: flex;
      flex-wrap: wrap;
      gap: 14px;
    }

    nav a {
      color: #2563eb;
      text-decoration: none;
    }

    nav a:hover {
      text-decoration: underline;
    }

    nav a.active {
      text-decoration: underline;
      text-underline-offset: 3px;
    }

    main {
      min-height: 240px;
    }

    #doc-content {
      transition: opacity 150ms ease;
    }

    main h1,
    main h2,
    main h3,
    main h4 {
      line-height: 1.25;
      margin-top: 1.5em;
      margin-bottom: 0.6em;
    }

    main p,
    main ul,
    main ol,
    main blockquote,
    main pre {
      margin-top: 0;
      margin-bottom: 1em;
    }

    pre,
    code {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    pre {
      background: #f3f4f6;
      padding: 12px;
      border-radius: 6px;
      overflow-x: auto;
    }

    code {
      background: #f3f4f6;
      padding: 0.1em 0.3em;
      border-radius: 4px;
    }

    pre code {
      background: transparent;
      padding: 0;
      border-radius: 0;
    }

    hr {
      border: 0;
      border-top: 1px solid #e5e7eb;
      margin: 1.5em 0;
    }

    footer {
      margin-top: 36px;
      padding-top: 16px;
      border-top: 1px solid #e5e7eb;
      font-size: 0.9rem;
      color: #6b7280;
    }

    footer a {
      color: #2563eb;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="header-bar">
        <h1>vit<span class="egg">ality</span></h1>
        <nav>
          <a href="#">home</a>
          <a href="#doctrine">doctrine</a>
          <a href="#vocab">vocab</a>
          <a href="#architecture">architecture</a>
          <a href="https://github.com/solpbc/vit">github</a>
        </nav>
      </div>
      <p class="tagline">social toolkit for personalized software</p>
    </header>

    <main id="content">
      <div id="landing">
        <section class="doctrine-excerpt">
          <h2>software should live</h2>
          <p>vit is a <strong>social system for personalized software</strong> where the unit of exchange is not pull requests, not screenshots, not diffs, not even git.</p>
          <p>the unit of exchange is <strong>capability</strong>: structured, attributable, auditable capabilities, published into a network where other builders (and their agents) can <strong>discover it, remix it into their own codebases, vet it locally, vouch for it publicly, and ship new capabilities back into the stream</strong>.</p>
          <p>vit is how software becomes <em>organic</em> and <em>yours</em>.</p>
          <hr>
          <p>most open source codebases today are treated like artifacts: limited maintainers, often abandoned, complicated contribution options.</p>
          <p>vit assumes something different:</p>
          <p>a codebase is not a distribution artifact. a codebase is a <strong>living organism</strong> that can adapt to each install, and it deserves a living ecosystem.</p>
          <p>the future is not &ldquo;one repo, one roadmap.&rdquo; the future is <strong>many codebases</strong>, each personalized, each living, and all sharing capabilities with each other through a social network that rewards provenance and trust.</p>
        </section>
        <p><a href="#doctrine">read the full doctrine &rarr;</a></p>
      </div>
      <div id="doc-content" style="display:none"></div>
    </main>

    <footer>
      part of <a href="https://solpbc.org">sol pbc</a>. created by <a href="https://bsky.app/profile/jeremie.com">Jeremie Miller</a>.
    </footer>
  </div>

  <script src="marked.min.js"></script>
  <script>
    const docs = {
      doctrine: 'DOCTRINE.md',
      vocab: 'VOCAB.md',
      architecture: 'ARCHITECTURE.md'
    };

    const cache = {};

    function navigate() {
      const hash = location.hash.slice(1);
      const landing = document.getElementById('landing');
      const docDiv = document.getElementById('doc-content');

      // Update active nav link
      document.querySelectorAll('nav a').forEach((a) => {
        const href = a.getAttribute('href');
        if (href.startsWith('#')) {
          a.classList.toggle('active', docs[hash] ? href === '#' + hash : href === '#');
        } else {
          a.classList.remove('active');
        }
      });

      if (docs[hash]) {
        landing.style.display = 'none';
        docDiv.style.display = '';

        if (cache[hash]) {
          docDiv.innerHTML = cache[hash];
          docDiv.style.opacity = '1';
        } else {
          docDiv.style.opacity = '0';
          docDiv.innerHTML = '';
          fetch(docs[hash])
            .then((r) => r.text())
            .then((md) => {
              cache[hash] = marked.parse(md);
              docDiv.innerHTML = cache[hash];
              docDiv.style.opacity = '1';
            })
            .catch(() => {
              docDiv.textContent = 'Failed to load document.';
              docDiv.style.opacity = '1';
            });
        }
      } else {
        landing.style.display = '';
        docDiv.style.display = 'none';
      }
    }

    window.addEventListener('hashchange', navigate);
    navigate();

    // Easter egg tap toggle
    document.querySelector('header h1').addEventListener('touchstart', function(e) {
      this.classList.toggle('tapped');
    });

    document.addEventListener('touchstart', function(e) {
      const h1 = document.querySelector('header h1');
      if (!h1.contains(e.target)) {
        h1.classList.remove('tapped');
      }
    });
  </script>
</body>
</html>
